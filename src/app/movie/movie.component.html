<p-toast></p-toast>

<p-card>
  <div class="p-mb-3">
    <p-button type="button" icon="pi pi-plus" styleClass="p-button-text" (click)="onRowSelect(null)"></p-button>
  </div>
  <p-table [value]="movies" [paginator]="true" [rows]="rows" [showCurrentPageReport]="true" [(first)]="first"
      currentPageReportTemplate="{first} de {last} dos {totalRecords} filmes" [rowsPerPageOptions]="[10,25,50]"
      selectionMode="single" (onRowSelect)="onRowSelect($event.data)" [scrollable]="true" scrollHeight="40em"
      styleClass="p-datatable-striped">
      <ng-template pTemplate="header">
        <tr>
            <th>Título</th>
            <th>Capa</th>
            <th>Preço</th>
            <th>Lançamento</th>
            <th>Principais Diretores</th>
            <th>Gênero</th>
            <th>Descrição</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-movie>
          <tr [pSelectableRow]="movie">
            <td>{{movie.title}}</td>
            <td><img [src]="movie.url ? movie.url : 'assets/img/no-image.png'" (error)="onImgError($event)" [alt]="movie.url" width="100" height="85" class="p-shadow-4"/></td>
            <td>R$ {{movie.price.toFixed(2)}}</td>
            <td>{{movie.launch | date: 'dd/MM/yyyy'}}</td>
            <td>{{movie.mainDirectors}}</td>
            <td>{{movie.gender}}</td>
            <td>{{movie.description}}</td>
          </tr>
      </ng-template>
  </p-table>
</p-card>
